<nav class="navbar navbar-expand-lg sticky-top">
    <div class="container-fluid px-4">
        <button class="btn btn-link text-white me-3 p-0 shadow-none" onclick="toggleSidebar()">
            <i class="fas fa-bars fa-lg"></i>
        </button>
        <a class="navbar-brand text-white d-flex align-items-center" href="{% url 'landing' %}">
            <i class="fas fa-shield-alt me-2 text-warning"></i>PATRIOT
        </a>

        <div class="ms-auto d-flex align-items-center">
            <!-- Access Mode Switcher -->
            <div class="dropdown me-3">
                <button
                    class="btn btn-sm {% if request.session.active_role == 'DCO' %}btn-danger{% elif request.session.active_role == 'COMMANDER' %}btn-primary{% else %}btn-success{% endif %} dropdown-toggle shadow-sm rounded-pill px-3 border-white border-1"
                    type="button" data-bs-toggle="dropdown" style="font-size: 10px; font-weight: 800; border-style: solid;">
                    <i class="fas fa-id-badge me-1"></i>
                    <span class="d-none d-md-inline">{{ request.session.active_role|default:"DCO" }} MODE</span>
                    <span class="d-md-none">{{ request.session.active_role|default:"DCO" }}</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-end py-2" style="min-width: 200px;">
                    <li class="px-3 py-2 small fw-bold text-muted text-uppercase" style="font-size: 10px;">Ganti Akses</li>
                    <li><a class="dropdown-item py-2 d-flex align-items-center" href="{% url 'switch_role' 'DCO' %}">
                        <div class="bg-danger-soft text-danger rounded-circle p-2 me-2" style="width: 30px; height: 30px; display: flex; align-items: center; justify-content: center;"><i class="fas fa-satellite small"></i></div> 
                        <span class="fw-bold">DCO</span>
                    </a></li>
                    <li><a class="dropdown-item py-2 d-flex align-items-center" href="{% url 'switch_role' 'COMMANDER' %}">
                        <div class="bg-primary-soft text-primary rounded-circle p-2 me-2" style="width: 30px; height: 30px; display: flex; align-items: center; justify-content: center;"><i class="fas fa-user-shield small"></i></div>
                        <span class="fw-bold">Commander</span>
                    </a></li>
                    <li><a class="dropdown-item py-2 d-flex align-items-center" href="{% url 'switch_role' 'CADRE' %}">
                        <div class="bg-success-soft text-success rounded-circle p-2 me-2" style="width: 30px; height: 30px; display: flex; align-items: center; justify-content: center;"><i class="fas fa-users small"></i></div>
                        <span class="fw-bold">Cadre</span>
                    </a></li>
                </ul>
            </div>

            <!-- Profile Dropdown -->
            <div class="dropdown">
                <button class="btn btn-link text-white dropdown-toggle d-flex align-items-center p-0 shadow-none" 
                    type="button" data-bs-toggle="dropdown">
                    <div class="bg-white text-maroon rounded-circle me-md-2 d-flex align-items-center justify-content-center shadow-sm"
                        style="width: 35px; height: 35px;">
                        <i class="fas fa-user"></i>
                    </div>
                    <span class="d-none d-md-inline fw-bold small text-uppercase ls-1">Admin_Faris</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-end py-2" style="min-width: 180px;">
                    <li><a class="dropdown-item py-2" href="{% url 'ubah_password' %}"><i class="fas fa-key me-2 text-muted"></i>Password</a></li>
                    <li><hr class="dropdown-divider mx-3"></li>
                    <li><a class="dropdown-item py-2 text-danger fw-bold" href="{% url 'login' %}">
                        <i class="fas fa-sign-out-alt me-2"></i> Keluar
                    </a></li>
                </ul>
            </div>
        </div>
    </div>
</nav>

<style>
    .btn-outline-maroon:hover {
        background-color: var(--primary-maroon);
        color: white !important;
    }
</style>